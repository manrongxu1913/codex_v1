<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>美股分析工作台</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="topbar glass">
      <h1>美股分析工作台</h1>
      <nav id="nav"></nav>
    </header>

    <main>
      <section id="home" class="view active">
        <div class="home-grid" id="home-grid"></div>
      </section>

      <section id="earnings" class="view">
        <div class="page-head glass">
          <h2>财报分析</h2>
          <p>完整 GICS 11 个 Sector，默认每个行业显示 30 家并支持加载更多。</p>
        </div>
        <div class="earnings-layout">
          <section class="glass block">
            <h3>行业与搜索</h3>
            <input id="search-input" type="text" placeholder="搜公司/代码/行业关键词，例如 Apple, TSLA, 半导体" />
            <label class="check-row"><input id="only-sector" type="checkbox" /> 仅在当前行业搜索</label>
            <div id="sector-list" class="chip-list"></div>
          </section>

          <section class="glass block">
            <h3>公司列表</h3>
            <p id="company-count" class="muted"></p>
            <div id="company-list" class="chip-list company-list"></div>
            <button id="load-more" type="button">加载更多</button>
          </section>

          <section class="glass block">
            <h3>财报卡片</h3>
            <div id="report-card" class="card"></div>
            <h3>财报提醒</h3>
            <ul id="upcoming-list" class="news-list"></ul>
          </section>
        </div>
      </section>

      <section id="todo" class="view">
        <div class="page-head glass">
          <h2>Todo 日历</h2>
        </div>
        <div class="todo-layout">
          <section class="glass block">
            <div class="calendar-head">
              <button id="prev-month" type="button">上月</button>
              <strong id="calendar-title"></strong>
              <button id="next-month" type="button">下月</button>
            </div>
            <div id="week-row" class="week-row"></div>
            <div id="calendar-grid" class="calendar-grid"></div>
            <div class="sub-block">
              <h3>时间点倒计时</h3>
              <form id="milestone-form" class="inline-form">
                <input id="milestone-name" required placeholder="节点名称" />
                <input id="milestone-time" type="datetime-local" required />
                <button type="submit">添加</button>
              </form>
              <ul id="milestone-list" class="task-list"></ul>
            </div>
          </section>
          <section class="glass block">
            <div class="plan-head">
              <strong id="plan-title">月计划</strong>
              <button id="back-to-month" type="button" hidden>返回月计划</button>
            </div>
            <form id="plan-form" class="inline-form">
              <input id="plan-text" required placeholder="计划内容" />
              <select id="plan-color">
                <option value="blue">蓝色</option>
                <option value="green">绿色</option>
                <option value="orange">橙色</option>
                <option value="red">红色</option>
              </select>
              <button type="submit">添加</button>
            </form>
            <ul id="plan-list" class="task-list"></ul>
          </section>
        </div>
      </section>

      <section id="tools" class="view">
        <div class="page-head glass"><h2>常用软件</h2></div>
        <div id="tool-grid" class="tool-grid"></div>
      </section>

      <section id="planner" class="view">
        <div class="page-head glass"><h2>资产规划</h2></div>
        <section class="glass block planner">
          <form id="planner-form" class="planner-form">
            <label>总资产 (USD)<input id="total-assets" type="number" min="0" required /></label>
            <div class="alloc-grid">
              <label>国债 %<input id="pct-bond" type="number" min="0" max="100" value="30" /></label>
              <label>保险 %<input id="pct-ins" type="number" min="0" max="100" value="10" /></label>
              <label>股票 %<input id="pct-stock" type="number" min="0" max="100" value="50" /></label>
              <label>现金 %<input id="pct-cash" type="number" min="0" max="100" value="10" /></label>
            </div>
            <div class="return-grid">
              <label>国债年化 %<input id="ret-bond" type="number" step="0.1" value="3.5" /></label>
              <label>保险年化 %<input id="ret-ins" type="number" step="0.1" value="2.5" /></label>
              <label>股票年化 %<input id="ret-stock" type="number" step="0.1" value="8.0" /></label>
              <label>现金年化 %<input id="ret-cash" type="number" step="0.1" value="1.5" /></label>
              <label>预测年限<input id="trend-years" type="number" min="1" max="30" value="5" /></label>
            </div>
            <button type="submit">计算</button>
          </form>
          <div id="planner-result" class="card"></div>
        </section>
      </section>

      <section id="fortune" class="view">
        <div class="fortune-stage">
          <div class="fortune-layout">
            <section class="glass block">
              <h3>塔罗牌</h3>
              <p class="muted">随机按牌阵抽牌并给出今日运势精简解读。</p>
              <button id="draw-tarot" type="button">抽塔罗</button>
              <div id="tarot-meta" class="muted"></div>
              <div id="tarot-cards" class="tarot-cards"></div>
              <div id="tarot-reading" class="card">等待抽牌...</div>
            </section>

            <section class="glass block">
              <h3>东方求签</h3>
              <p class="muted">摇动签筒，生成今日提示。</p>
              <div class="bucket-wrap"><div id="fortune-bucket" class="bucket">签筒</div>
              </div>
              <button id="draw-fortune" type="button">晃一晃</button>
              <div id="fortune-slip" class="card slip">签文会在这里显示</div>
            </section>
          </div>
        </div>
      </section>
    </main>

    <script src="./data/companies.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
